\documentclass[tikz]{standalone}

% tikz
\usepackage{tikz, pgfplots}
% i wish external worked but idk it sucks
%\usetikzlibrary{external}
%\tikzexternalize[prefix=figures/]

% for function graph
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.misc}
\tikzset{
dot/.style = {circle, fill=#1, minimum size=5pt,
              inner sep=0pt, outer sep=0pt},
dot/.default = black % size of the circle diameter
}
\tikzset{cross/.style={cross out, draw=black, minimum size=2*(#1-\pgflinewidth), inner sep=0pt, outer sep=0pt},
%default radius will be 1pt. 
cross/.default={1pt}}

 % for braces
\usetikzlibrary{decorations.pathreplacing}
% for hashing area
\usetikzlibrary{patterns}
% tableaux var, signe
% source https://www.sqlpac.com/fr/documents/latex-package-tkz-tab-tikz-tableaux-de-signes-et-de-variations-de-fonctions.html
\usepackage{tkz-tab}
\input{../colors}
\input{../letterfonts}


\tikzset{
	every node/.style = {font=\Large}
}

\tikzset{
	every axis/.style = {grid, grid style = {opacity=.5}}
}


\usepackage{makecell} %pour \thead dans tabular ex3 (aligner verticalement le coeff de proportionnalité)

\begin{document}
%
	% page 1
	\begin{tikzpicture}
		\begin{axis}[xmin = -1, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table {data/entreprise-anc-sal.dat};
		\end{axis}
	\end{tikzpicture}
	
	% page 2
	\begin{tikzpicture}
		\begin{axis}[xmin = -1, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table {data/entreprise-anc-sal.dat};
			\addplot[very thick, BLUE_E] expression[domain=0:12, samples=2]{1420 + 40*x};
			\addplot[thin, BLUE_E, dashed] expression[domain=-1:0, samples=2]{1420 + 40*x};
			\addplot[thin, BLUE_E, dashed] expression[domain=12:13, samples=2]{1420 + 40*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 3
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5, xlabel = Années de formation ou étude, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=apbac, y=sal] {data/entreprise-apbac-sal.dat};
		\end{axis}
	\end{tikzpicture}
	
	% page 4
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5]
			\addplot[only marks, ORANGE, mark size=2pt] table {data/robbie-firefighters.dat};
		\end{axis}
	\end{tikzpicture}
	
	% page 5
	\begin{tikzpicture}
		\begin{axis}[xmin = -1, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal.dat};
			\addplot[only marks, RED_E, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-CEO.dat};
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-CEO-neveu.dat};
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-esclave.dat};
			
			\addplot[thick, dashed, BLUE_E] expression[domain=0:12, samples=2]{1100 + 700*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 6
	\begin{tikzpicture}
		\begin{axis}[xmin = -1, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal.dat};
			\addplot[only marks, RED_E, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-CEO-neveu.dat};
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-esclave.dat};
			
			\addplot[thick, dashed, BLUE_E] expression[domain=0:12, samples=2]{2100 - 30*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 7
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, RED_E, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-esclave.dat};
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal.dat};
			
			\addplot[thick, dashed, BLUE_E] expression[domain=0:12, samples=2]{700 + 100*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 8
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal.dat};
			
			\addplot[thick, dashed, BLUE_E] expression[domain=0:12, samples=2]{1400 + 42*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 9
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-fewpoints.dat};
			\addplot[very thick, dashed, BLUE_E] expression[domain=0:5, samples=2]{950 + 150*x};
			\addplot[very thick, dashed, RED_E] expression[domain=0:5, samples=2]{2050 - 150*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 10
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-lowsigma.dat};
		\end{axis}
	\end{tikzpicture}
	
	% page 11
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-highsigma.dat};
		\end{axis}
	\end{tikzpicture}
	
	% page 12
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-quadratic.dat};
			\addplot[very thick, BLUE_E] expression[domain=0:5, samples=2]{1100 + 250*x};
			\addplot[very thick, dashed, BLUE_E] expression[domain=5:12, samples=2]{1100 + 250*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 13
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=13, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-quadratic.dat};
			\addplot[very thick, BLUE_E] expression[domain=0:5, samples=2]{1100 + 250*x};
			\addplot[very thick, dashed, BLUE_E] expression[domain=5:12, samples=2]{1100 + 250*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 14
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5, ymin=900, ymax=2100, xlabel = Ancienneté, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, ORANGE, mark size=2pt] table[x=anc, y=sal] {data/entreprise-anc-sal-fewpoints.dat};
			%\addplot[very thick, dashed, BLUE_E] expression[domain=0:5, samples=2]{950 + 150*x};
			%\addplot[very thick, dashed, RED_E] expression[domain=0:5, samples=2]{2050 - 150*x};
		\end{axis}
	\end{tikzpicture}
	
	% page 15
	\begin{tikzpicture}
		\begin{axis}[xmin = -.5, xmax=5.5, xlabel = Années de formation ou étude, ylabel = Salaire net, ylabel near ticks]
			\addplot[only marks, BLUE_C, mark size=2pt] table[x=apbac, y=sal] {data/entreprise-apbac-sal-hommes.dat};
			\addplot[only marks, RED_C, mark size=2pt] table[x=apbac, y=sal] {data/entreprise-apbac-sal-femmes.dat};
		\end{axis}
	\end{tikzpicture}
%
\end{document}